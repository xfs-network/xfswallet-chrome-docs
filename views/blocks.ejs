<%- include('header'); -%> 
<h1 class="mb-4">Blocks</h1> 
<div class="card">
    <div class="table-responsive">
        <table class="table">
            <thead>
              <tr>
                <th>Height</th>
                <th>
                  Hash
                </th>
                <th>Time</th>
                <th>Miner</th>
                <th>Txs</th>
              </tr>
            </thead>
            <tbody>
              <% for (let i=0; i < data.list.length; i++) { %>
                <tr>
                  <td>
                      <a href="/blocks/<%= data.list[i].hash %>">
                          <%= data.list[i].height %>
                      </a>
                  </td>
                  <td>
                    <div class="text-truncate" style="max-width: 240px;">
                      <a href="/blocks/<%= data.list[i].hash %>">
                        <%= data.list[i].hash %>
                      </a>
                    </div>
                  </td>
                  <td>
                    <span class="fs-6"><%= data.list[i].timestr %></span>
                  </td>
                  <td>
                    <div class="text-truncate">
                      <a href="/addr/<%= data.list[i].coinbase %>">
                        <%= data.list[i].coinbase %>
                      </a>
                    </div>
                  </td>
                  <td><%= data.list[i].txcount %></td>                      
                </tr>
              <% } %>
            </tbody>
          </table>
    </div>
    <div class="card-footer d-flex align-items-center">
        <p class="m-0 text-muted">Showing <span>
          <%= data.page.from %>
        </span> to <span>
          <%= data.page.to %>
        </span> of <span>
          <%= data.page.total %>
        </span> entries</p>
        <ul class="pagination m-0 ms-auto">
          <% if (data.page.pagenum === 0) { %>
            <li class="page-item disabled">
                <a class="page-link" href="/blocks?p=0">
                    First
                </a>
            </li>
            <% } else { %>
              <li class="page-item">
                <a class="page-link" href="/blocks?p=0">
                    First
                </a>
            </li>
            <% } %>
            <% if (data.page.pagenum === 0) { %>
            <li class="page-item disabled">
                <a class="page-link" href="/blocks?p=<%= data.page.prevpage %>">
                  <span aria-hidden="true">&laquo;</span>
                </a>
              </li>
            <% } else { %>
              <li class="page-item">
                <a class="page-link" href="/blocks?p=<%= data.page.prevpage %>">
                  <span aria-hidden="true">&laquo;</span>
                </a>
              </li>
              <% } %>
              <li class="page-item disabled">
                <span class="page-link">
                    <span aria-hidden="true">Page <%= data.page.pagenum %> of <%= data.page.totalpage %></span>
                </span>
              </li>
              <% if (data.page.totalpage > data.page.pagenum) { %>
              <li class="page-item">
                <a class="page-link" href="/blocks?p=<%= data.page.nextpage %>">
                  <span aria-hidden="true">&raquo;</span>
                </a>
              </li>
              <% } else { %>
                <li class="page-item disabled">
                  <a class="page-link" href="/blocks?p=<%= data.page.nextpage %>">
                    <span aria-hidden="true">&raquo;</span>
                  </a>
                </li>
                <% } %> 
                <% if (data.page.totalpage > data.page.pagenum) { %>
            <li class="page-item"><a class="page-link" href="/blocks?p=<%= data.page.totalpage %>">Last</a></li>
            <% } else { %>
              <li class="page-item disabled">
                <a class="page-link" href="/blocks?p=<%= data.page.totalpage %>">Last</a>
              </li>
              <% } %> 
          </ul>
      </div>
  </div>
<%- include('footer'); -%>